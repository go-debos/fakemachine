.\" Automatically generated by Pandoc 3.1.11.1
.\"
.TH "fakemachine" "1" "" "" ""
.SH NAME
fakemachine \- fake a machine
.PP
Creates a virtual machine based on the currently running system.
.SH SYNOPSIS
.IP
.EX
fakemachine [options] <command to run inside machine>
fakemachine [\-\-help]
.EE
.PP
Application Options:
.IP
.EX
  \-b, \-\-backend=[auto|kvm|uml|qemu] Virtualisation backend to use (default: auto)
  \-v, \-\-volume=                     volume to mount
  \-i, \-\-image=                      image to add
  \-e, \-\-environ\-var=                Environment variables (use \-e VARIABLE:VALUE syntax)
  \-m, \-\-memory=                     Amount of memory for the fakemachine in megabytes
  \-c, \-\-cpus=                       Number of CPUs for the fakemachine
  \-s, \-\-scratchsize=                On\-disk scratch space size (with a unit suffix, e.g. 4G); if unset,
                                    memory backed scratch space is used
      \-\-show\-boot                   Show boot/console messages from the fakemachine

Help Options:
  \-h, \-\-help                        Show this help message
.EE
.SH INSTALLATION
.IP
.EX
$ export GOPATH=\[ti]/go
$ export PATH=$PATH:\[ti]/go/bin
$ go install github.com/go\-debos/fakemachine/cmd/fakemachine\[at]latest
.EE
.SH USAGE
.IP
.EX
$ fakemachine echo test
Running echo test using kvm backend
test
.EE
.SH DOCKER CONTAINER
fakemachine is also available as a container image on \c
.UR https://github.com/go-debos/debos/pkgs/container/fakemachine
ghcr.io
.UE \c
\&.
.PP
To run it:
.IP
.EX
$ docker pull ghcr.io/go\-debos/fakemachine:main

$ docker run \[rs]
  \-\-rm \[rs]
  \-\-interactive \[rs]
  \-\-tty \[rs]
  \-\-device /dev/kvm \[rs]
  \-\-user $(id \-u) \[rs]
  \-\-workdir /work \[rs]
  \-\-mount \[dq]type=bind,source=$(pwd),destination=/work\[dq] \[rs]
  \-\-security\-opt label=disable \[rs]
  ghcr.io/go\-debos/fakemachine:main \[rs]
  echo test

Running echo test using kvm backend
test
.EE
